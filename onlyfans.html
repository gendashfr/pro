
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infloww Creator Reports</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Prop Types -->
    <script src="https://unpkg.com/prop-types/prop-types.min.js"></script>

    <!-- Recharts -->
    <script src="https://unpkg.com/recharts@2.12.7/umd/Recharts.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            bg: '#0a0a0a',
                            panel: '#141414',
                            border: '#262626',
                            text: '#e5e7eb',
                            muted: '#737373',
                            hover: '#1f1f1f',
                        },
                        accent: {
                            blue: '#3b82f6',
                            cyan: '#00aff0', // OnlyFans style cyan
                            green: '#22c55e',
                            purple: '#a855f7',
                            red: '#ef4444',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <style>
        body { background-color: #0a0a0a; color: #e5e7eb; font-family: 'Inter', sans-serif; overflow: hidden; }
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #0a0a0a; }
        ::-webkit-scrollbar-thumb { background: #262626; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #333; }
        .recharts-cartesian-grid-horizontal line, .recharts-cartesian-grid-vertical line { stroke: #262626; stroke-dasharray: 4 4; }
        .recharts-tooltip-cursor { fill: #3b82f6; opacity: 0.1; }
        
        /* Calendar Styles */
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; }
        .calendar-day { aspect-ratio: 1; display: flex; align-items: center; justify-content: center; font-size: 10px; cursor: pointer; border-radius: 4px; }
        .calendar-day:hover { background-color: #262626; }
        .calendar-day.selected { background-color: #3b82f6; color: white; }
        .calendar-day.in-range { background-color: rgba(59, 130, 246, 0.1); color: #3b82f6; }
        .calendar-day.disabled { opacity: 0.3; cursor: default; }

        /* Custom Toggle Switch */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #3b82f6;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #3b82f6;
        }
    </style>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { ResponsiveContainer, BarChart, Bar, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend } = window.Recharts;

        // --- ICONS ---
        const Icons = {
            AppLogo: () => <img src="app.png" alt="Infloww" className="w-10 h-10 object-contain rounded-lg" />,
            NavMenu: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="3" x2="21" y1="6" y2="6"/><line x1="3" x2="21" y1="12" y2="12"/><line x1="3" x2="21" y1="18" y2="18"/></svg>,
            NavHome: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>,
            NavWhistle: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M11 2a2 2 0 0 1 2 2v5h-1a2 2 0 1 0 0 4h5.5a2.5 2.5 0 1 1 0 5H16v2h-2v-2h-3.5a4.5 4.5 0 1 1 0-9H11V4a2 2 0 0 1 2-2Z"/></svg>,
            NavReports: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/></svg>,
            NavFeed: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="9" x2="9" y1="21" y2="9"/></svg>,
            NavNetwork: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/></svg>,
            NavProfile: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>,
            NavTeam: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>,
            Info: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>,
            ChevronDown: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6 9 6 6 6-6"/></svg>,
            ChevronLeft: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m15 18-6-6 6-6"/></svg>,
            ChevronRight: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>,
            Filter: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>,
            Calendar: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>,
            Stat_Subs: () => <svg className="text-green-500" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><path d="M12 18v-6"/><path d="M9 15l3 3 3-3"/></svg>,
            Stat_Posts: () => <svg className="text-green-500" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><path d="m9 16 2 2 4-4"/></svg>,
            Stat_Tips: () => <svg className="text-blue-500" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>,
            Stat_Refs: () => <svg className="text-red-500" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>,
            Stat_Msgs: () => <svg className="text-purple-500" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>,
            Stat_Streams: () => <svg className="text-blue-400" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="23 7 16 12 23 17 23 7"/><rect width="15" height="14" x="1" y="5" rx="2" ry="2"/></svg>,
            
            // Vault Specific Icons
            VaultEarnings: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="16"/><line x1="8" x2="16" y1="12" y2="12"/></svg>,
            VaultPayouts: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>,
            VaultStats: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/></svg>,
            VaultChargeback: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><line x1="12" x2="12" y1="16" y2="12"/><line x1="12" x2="12.01" y1="8" y2="8"/></svg>
        };

        const formatCurrency = (val) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 2 }).format(val);
        const formatDate = (date) => date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });

        // --- COMPONENTS ---
        const CustomTooltip = ({ active, payload, label }) => {
            if (active && payload && payload.length) {
                const d = payload[0].payload;
                return (
                    <div className="bg-[#141414] border border-[#333] p-3 rounded-lg shadow-2xl min-w-[160px]">
                        <p className="text-gray-400 text-xs mb-1 font-medium">{d.dateStr}</p>
                        <p className="text-white font-bold text-sm mb-1">Earnings: {formatCurrency(d.total)}</p>
                        <p className={`text-xs font-bold ${d.growth >= 0 ? 'text-green-500' : 'text-red-500'}`}>
                            Growth: {d.growth > 0 ? '+' : ''}{d.growth}%
                        </p>
                    </div>
                );
            }
            return null;
        };

        const StatBox = ({ label, amount, Icon, isHigh }) => (
            <div className="bg-[#141414] border border-[#262626] rounded-xl p-4 flex flex-col justify-between relative overflow-hidden group hover:border-[#404040] transition-colors h-[110px]">
                <div>
                    <h4 className="text-lg font-bold text-white tracking-tight">{formatCurrency(amount)}</h4>
                    <span className="text-[#737373] text-[10px] font-semibold uppercase tracking-wide mt-1 block">{label}</span>
                </div>
                <div className="absolute bottom-3 right-3 p-2 bg-[#1f1f1f] rounded-lg border border-[#2a2a2a] group-hover:bg-[#252525] transition">
                    <Icon />
                </div>
            </div>
        );

        // --- REPORTS VIEW ---
        const ReportsView = ({ config }) => {
            const defaultEnd = new Date(2024, 8, 1); 
            const defaultStart = new Date(2024, 5, 3);
            
            const [dateRange, setDateRange] = useState({ start: defaultStart, end: defaultEnd });
            const [showDatePicker, setShowDatePicker] = useState(false);
            const [data, setData] = useState([]);
            const [totals, setTotals] = useState({ total: 0, subs: 0, tips: 0, msgs: 0, posts: 0, refs: 0, streams: 0 });

            const generateData = (startDate, endDate) => {
                const data = [];
                const dayCount = Math.floor((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1;
                const annualRevenue = config?.annualRevenue || 2000000;
                const baseDailyAverage = annualRevenue / 365;

                const weights = {
                    messages: config.categories.messages ? 65 : 0,
                    subscriptions: config.categories.subscriptions ? 15 : 0,
                    tips: config.categories.tips ? 15 : 0,
                    posts: config.categories.posts ? 5 : 0,
                    referrals: config.categories.referrals ? 2 : 0,
                    streams: config.categories.streams ? 3 : 0
                };
                const totalWeight = Object.values(weights).reduce((a, b) => a + b, 0);

                for (let i = 0; i < dayCount; i++) {
                    const currentDate = new Date(startDate);
                    currentDate.setDate(startDate.getDate() + i);
                    const variance = 0.7 + Math.random() * 0.6;
                    let dailyTotal = baseDailyAverage * variance;
                    if (currentDate.getDay() === 0 || currentDate.getDay() === 6) dailyTotal *= 1.2;
                    const growth = ((Math.random() * 20) - 10).toFixed(2);
                    const getShare = (key) => totalWeight > 0 ? dailyTotal * (weights[key] / totalWeight) : 0;

                    data.push({
                        day: currentDate.getDate(),
                        dateStr: currentDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),
                        fullDate: currentDate,
                        total: totalWeight > 0 ? dailyTotal : 0,
                        subscriptions: getShare('subscriptions'),
                        tips: getShare('tips'),
                        messages: getShare('messages'),
                        posts: getShare('posts'),
                        streams: getShare('streams'),
                        referrals: getShare('referrals'),
                        growth: parseFloat(growth)
                    });
                }
                return data;
            };

            useEffect(() => {
                const d = generateData(dateRange.start, dateRange.end);
                setData(d);
                const t = d.reduce((acc, curr) => ({
                    total: acc.total + curr.total,
                    subs: acc.subs + curr.subscriptions,
                    tips: acc.tips + curr.tips,
                    msgs: acc.msgs + curr.messages,
                    posts: acc.posts + curr.posts,
                    refs: acc.refs + curr.referrals,
                    streams: acc.streams + curr.streams,
                }), { total: 0, subs: 0, tips: 0, msgs: 0, posts: 0, refs: 0, streams: 0 });
                setTotals(t);
            }, [dateRange, config]);

            return (
                <div className="flex-1 overflow-y-auto p-6 scrollbar-hide h-full" onClick={() => setShowDatePicker(false)}>
                    {/* FILTER BAR */}
                    <div className="flex flex-col xl:flex-row justify-between items-end xl:items-center gap-4 mb-6 relative">
                        <div className="flex items-center gap-2">
                            <h2 className="text-[13px] font-bold text-white">Earnings summary</h2>
                            <Icons.Info className="text-[#737373] w-3.5 h-3.5" />
                        </div>

                        <div className="flex flex-wrap items-center justify-end gap-3 z-50">
                            {/* Date Picker Trigger */}
                            <div className="relative">
                                <div 
                                    onClick={(e) => { e.stopPropagation(); setShowDatePicker(!showDatePicker); }}
                                    className="bg-[#141414] border border-[#262626] hover:border-[#404040] transition rounded-lg px-3 py-1.5 flex items-center gap-3 cursor-pointer group w-[220px] justify-between"
                                >
                                    <div className="flex items-center gap-2">
                                        <span className="text-[11px] font-medium text-white group-hover:text-blue-400 transition">{formatDate(dateRange.start)}</span>
                                        <span className="text-[#737373]">→</span>
                                        <span className="text-[11px] font-medium text-white group-hover:text-blue-400 transition">{formatDate(dateRange.end)}</span>
                                    </div>
                                    <Icons.Calendar className="text-[#737373] w-3.5 h-3.5 ml-1" />
                                </div>
                                {showDatePicker && <DatePicker start={dateRange.start} end={dateRange.end} onSelect={(s, e) => setDateRange({ start: s, end: e })} onClose={() => setShowDatePicker(false)} />}
                            </div>
                            <div className="bg-[#141414] border border-[#262626] hover:border-[#404040] transition rounded-lg px-3 py-1.5 flex items-center gap-2 cursor-pointer min-w-[120px] justify-between">
                                <span className="text-[11px] font-medium text-white">Shown by day</span>
                                <Icons.ChevronDown className="text-[#737373] w-3 h-3" />
                            </div>
                            <div className="bg-[#141414] border border-[#262626] hover:border-[#404040] transition rounded-lg px-3 py-1.5 flex items-center gap-2 cursor-pointer">
                                <span className="text-[11px] font-medium text-white">Gross earnings</span>
                                <Icons.ChevronDown className="text-[#737373] w-3 h-3" />
                            </div>
                            <button className="bg-[#3b82f6]/10 border border-[#3b82f6]/40 hover:bg-[#3b82f6]/20 text-[#3b82f6] px-3 py-1.5 rounded-lg text-[11px] font-bold flex items-center gap-2 transition"><Icons.Filter className="w-3 h-3" /> Filters</button>
                        </div>
                    </div>

                    {/* STATS GRID */}
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6">
                        <div className="bg-[#141414] border border-[#262626] rounded-xl p-6 relative overflow-hidden group h-[236px] flex flex-col justify-center">
                            <div className="flex flex-col items-start gap-1 mb-2">
                                <img src="onlyfans.png" alt="OF" className="w-10 h-10 mb-4 object-contain" />
                                <p className="text-[#3b82f6] text-[11px] font-bold uppercase tracking-wide">Total earnings</p>
                            </div>
                            <h3 className="text-[#3b82f6] text-[42px] leading-none font-bold tracking-tight mb-2">{formatCurrency(totals.total)}</h3>
                        </div>
                        <div className="lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
                            <StatBox label="Subscriptions" amount={totals.subs} Icon={Icons.Stat_Subs} />
                            <StatBox label="Posts" amount={totals.posts} Icon={Icons.Stat_Posts} />
                            <StatBox label="Tips" amount={totals.tips} Icon={Icons.Stat_Tips} />
                            <StatBox label="Referrals" amount={totals.refs} Icon={Icons.Stat_Refs} />
                            <StatBox label="Messages" amount={totals.msgs} Icon={Icons.Stat_Msgs} isHigh={true} />
                            <StatBox label="Streams" amount={totals.streams} Icon={Icons.Stat_Streams} />
                        </div>
                    </div>

                    {/* CHARTS */}
                    <div className="space-y-6">
                        <div className="flex flex-col">
                            <div className="flex items-center gap-2 mb-4 pl-1"><h3 className="text-white text-[11px] font-bold uppercase tracking-wide">Earnings trends</h3><Icons.Info className="text-[#737373] w-3 h-3" /></div>
                            <div className="h-[280px] w-full bg-[#141414] border border-[#262626] rounded-xl p-4 relative group">
                                <div className="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:20px_20px] pointer-events-none"></div>
                                <ResponsiveContainer width="100%" height="100%">
                                    <BarChart data={data} barCategoryGap="20%">
                                        <CartesianGrid vertical={false} stroke="#262626" strokeDasharray="3 3" />
                                        <XAxis dataKey={data.length > 40 ? "dateStr" : "day"} axisLine={false} tickLine={false} tick={{fill: '#737373', fontSize: 10}} dy={10} interval={data.length > 20 ? 'preserveStartEnd' : 0} />
                                        <YAxis axisLine={false} tickLine={false} tick={{fill: '#737373', fontSize: 10}} tickFormatter={(val) => val >= 1000 ? `${(val/1000).toFixed(0)}k` : val} dx={-10} />
                                        <Tooltip cursor={{fill: '#3b82f6', opacity: 0.1}} content={<CustomTooltip />} />
                                        <Bar dataKey="total" fill="#3b82f6" radius={[2, 2, 0, 0]} maxBarSize={40} />
                                    </BarChart>
                                </ResponsiveContainer>
                            </div>
                        </div>
                        <div className="flex flex-col pb-10">
                            <div className="flex items-center gap-2 mb-4 pl-1"><h3 className="text-white text-[11px] font-bold uppercase tracking-wide">Earnings by channel</h3><Icons.Info className="text-[#737373] w-3 h-3" /></div>
                            <div className="h-[240px] w-full bg-[#141414] border border-[#262626] rounded-xl p-4">
                                <ResponsiveContainer width="100%" height="100%">
                                    <LineChart data={data}>
                                        <CartesianGrid vertical={false} stroke="#262626" strokeDasharray="3 3" />
                                        <XAxis hide />
                                        <YAxis axisLine={false} tickLine={false} tick={{fill: '#737373', fontSize: 10}} tickFormatter={(val) => val >= 1000 ? `${(val/1000).toFixed(0)}k` : val} dx={-10} />
                                        <Tooltip cursor={{stroke: '#eab308', strokeWidth: 1}} content={<CustomTooltip />} />
                                        <Line type="monotone" dataKey="total" stroke="#eab308" strokeWidth={2} dot={false} activeDot={{ r: 4, fill: '#eab308', stroke: '#000', strokeWidth: 2 }} />
                                        <Legend verticalAlign="bottom" height={36} iconType="circle" content={() => (<div className="flex items-center justify-center gap-6 mt-4 text-[11px] text-[#737373]"><div className="flex items-center gap-2"><div className="w-2 h-2 rounded-full bg-[#eab308]"></div> Total</div><div className="flex items-center gap-2"><div className="w-2 h-2 rounded-full bg-[#3b82f6]"></div> Messages</div><div className="flex items-center gap-2"><div className="w-2 h-2 rounded-full bg-[#22c55e]"></div> Subscriptions</div></div>)} />
                                    </LineChart>
                                </ResponsiveContainer>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // --- VAULT VIEW ---
        const VaultView = ({ config }) => {
            const [history, setHistory] = useState([]);
            const [pendingBalance, setPendingBalance] = useState(0);

            useEffect(() => {
                const annual = config?.annualRevenue || 2000000;
                const monthlyAvg = annual / 12;
                
                // --- PENDING BALANCE CALCULATION ---
                // Pending is roughly 65% of a monthly avg
                setPendingBalance(monthlyAvg * 0.65);

                // --- HISTORY GENERATION ---
                const months = [];
                const currentDate = new Date();
                
                // Config from setup
                const settings = config?.statementSettings || {};
                const count = settings.count || 14; 
                const mode = settings.mode || 'random'; // 'random' | 'fixed'
                const customRows = settings.customRows || []; // Array of numbers from dynamic list

                for (let i = 0; i < count; i++) {
                    const d = new Date(currentDate.getFullYear(), currentDate.getMonth() - (i + 1), 1);
                    const monthName = d.toLocaleDateString('en-US', { month: 'long' });
                    const year = d.getFullYear();
                    
                    let amount;

                    // 1. Use custom payout if available for this index (index 0 is most recent)
                    if (i < customRows.length) {
                        amount = parseFloat(customRows[i]);
                    } 
                    // 2. Otherwise generate automatically
                    else {
                        if (mode === 'fixed') {
                            // Round to nearest 50 for a "clean" look
                            amount = Math.round(monthlyAvg / 50) * 50;
                        } else {
                            // Random variance: 0.85 to 1.15
                            const variance = 0.85 + Math.random() * 0.3;
                            amount = monthlyAvg * variance;
                        }
                    }

                    months.push({
                        id: i,
                        label: `${monthName}, ${year}`,
                        amount: amount
                    });
                }
                setHistory(months);
            }, [config]);

            const MenuItem = ({ label, active, Icon }) => (
                <div className={`px-3 py-2.5 rounded-lg flex items-center justify-between cursor-pointer group transition ${active ? 'bg-[#1f1f1f] text-white' : 'text-[#737373] hover:text-white hover:bg-[#141414]'}`}>
                    <div className="flex items-center gap-3">
                        {Icon && <Icon className="w-4 h-4" />}
                        <span className="text-[11px] font-bold tracking-wide">{label}</span>
                    </div>
                    {active && <div className="w-1 h-1 rounded-full bg-blue-500"></div>}
                </div>
            );

            return (
                <div className="flex h-full bg-[#0a0a0a]">
                    {/* Inner Sidebar / Menu Column */}
                    <div className="w-[280px] border-r border-[#262626] p-6 flex flex-col h-full overflow-y-auto">
                        
                        {/* Balance Section */}
                        <div className="mb-8">
                             <div className="flex items-center gap-2 mb-2">
                                 <span className="text-[10px] font-bold text-[#737373] tracking-wide uppercase">Pending Balance</span>
                                 <Icons.Info className="w-3 h-3 text-[#737373]" />
                             </div>
                             <div className="text-3xl font-bold text-white mb-6 tracking-tight">{formatCurrency(pendingBalance)}</div>
                             
                             {/* Manual Payouts Control */}
                             <div className="mb-4">
                                  <div className="border border-[#262626] rounded-t-lg bg-[#141414] p-3 flex justify-between items-center cursor-pointer hover:border-[#404040] transition">
                                      <span className="text-[13px] font-medium text-white">Manual payouts</span>
                                      <Icons.ChevronDown className="w-4 h-4 text-[#737373]" />
                                  </div>
                                  <div className="bg-[#141414] border-x border-b border-[#262626] p-2.5 text-[10px] text-[#737373] rounded-b-lg">
                                      Minimum withdrawal amount is $20
                                  </div>
                             </div>

                             <button className="w-full bg-[#00aff0] hover:bg-[#009bd6] text-white font-bold text-[11px] py-3 rounded-full transition shadow-lg shadow-cyan-500/10 uppercase tracking-wide">
                                  Request Withdrawal
                             </button>
                        </div>

                        <div className="h-px bg-[#262626] mb-6 w-full"></div>

                        {/* Navigation Items */}
                        <div className="flex flex-col gap-1">
                             <div className="text-[10px] font-bold text-[#404040] mb-2 pl-3 uppercase tracking-wider">Statements</div>
                             <MenuItem label="EARNINGS" Icon={Icons.VaultEarnings} />
                             <MenuItem label="PAYOUT REQUESTS" Icon={Icons.VaultPayouts} />
                             <MenuItem label="EARNING STATISTICS" Icon={Icons.VaultStats} active />
                             <MenuItem label="CHARGEBACKS" Icon={Icons.VaultChargeback} />
                             <MenuItem label="REFERRALS" Icon={Icons.Stat_Refs} />
                        </div>
                    </div>

                    {/* Right Content: History List */}
                    <div className="flex-1 overflow-y-auto p-0 bg-[#0a0a0a]">
                        <div className="flex flex-col">
                             {history.map((item, idx) => (
                                 <div key={item.id} className="border-b border-[#262626] p-5 flex justify-between items-center hover:bg-[#141414] transition cursor-pointer group">
                                      <span className="text-[13px] font-medium text-gray-300 group-hover:text-white transition">{item.label}</span>
                                      <div className="flex items-center gap-4">
                                          <span className="text-[13px] font-bold text-white tracking-wide">{formatCurrency(item.amount)}</span>
                                          <Icons.ChevronDown className="w-4 h-4 text-[#404040] group-hover:text-white transition transform -rotate-90 group-hover:rotate-0" />
                                      </div>
                                 </div>
                             ))}
                             {/* Empty rows filler */}
                             {[...Array(5)].map((_, i) => (
                                 <div key={`empty-${i}`} className="border-b border-[#262626] p-5 h-[61px]"></div>
                             ))}
                        </div>
                    </div>
                </div>
            );
        };

        // --- SETUP COMPONENT ---
        const SetupScreen = ({ onComplete }) => {
            const [annualRevenue, setAnnualRevenue] = useState(2000000);
            const [userName, setUserName] = useState("Risen Agency");
            const [profileImage, setProfileImage] = useState(null); 
            const [categories, setCategories] = useState({ subscriptions: true, tips: true, messages: true, posts: true, referrals: true, streams: true });
            
            // New Statement Settings
            const [statementSettings, setStatementSettings] = useState({
                count: 14,
                mode: 'random', // 'random' or 'fixed'
                customRows: [] // Dynamic array of numbers
            });

            const [newPaymentAmount, setNewPaymentAmount] = useState('');

            const handleImageUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onloadend = () => setProfileImage(reader.result);
                    reader.readAsDataURL(file);
                }
            };
            const handleToggle = (key) => setCategories(prev => ({ ...prev, [key]: !prev[key] }));
            
            const addCustomPayment = () => {
                if (newPaymentAmount && statementSettings.customRows.length < 10) {
                    setStatementSettings(prev => ({
                        ...prev,
                        customRows: [parseFloat(newPaymentAmount), ...prev.customRows] // Add to start (most recent)
                    }));
                    setNewPaymentAmount('');
                }
            };

            const removeCustomPayment = (index) => {
                setStatementSettings(prev => ({
                    ...prev,
                    customRows: prev.customRows.filter((_, i) => i !== index)
                }));
            };

            const handleStart = () => onComplete({ 
                annualRevenue: Number(annualRevenue), 
                userName, 
                profileImage, 
                categories,
                statementSettings: { ...statementSettings, count: Number(statementSettings.count) }
            });

            const Toggle = ({ label, checked, onChange }) => (
                <div className="flex items-center justify-between py-2 border-b border-[#262626] last:border-0">
                    <span className="text-sm text-gray-300">{label}</span>
                    <div className="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                        <input type="checkbox" checked={checked} onChange={onChange} className="toggle-checkbox absolute block w-5 h-5 rounded-full bg-white border-4 appearance-none cursor-pointer border-[#262626] transition-all duration-300"/>
                        <label className={`toggle-label block overflow-hidden h-5 rounded-full cursor-pointer transition-colors duration-300 ${checked ? 'bg-blue-600' : 'bg-[#262626]'}`}></label>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4">
                    <div className="bg-[#141414] border border-[#262626] rounded-2xl w-full max-w-2xl p-8 shadow-2xl overflow-y-auto max-h-[90vh]">
                        <div className="flex flex-col items-center mb-6">
                            <Icons.AppLogo />
                            <h2 className="text-xl font-bold text-white mt-4">Dashboard Configuration</h2>
                            <p className="text-gray-500 text-sm">Configure both Reports & Statements tabs</p>
                        </div>
                        
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                            {/* LEFT COL: General Settings */}
                            <div className="space-y-4">
                                <h3 className="text-white font-bold text-sm border-b border-[#262626] pb-2">General & Reports</h3>
                                <div><label className="block text-xs font-bold text-gray-400 uppercase mb-1">Target Annual Revenue ($)</label><input type="number" value={annualRevenue} onChange={(e) => setAnnualRevenue(e.target.value)} className="w-full bg-[#0a0a0a] border border-[#262626] rounded-lg p-2.5 text-white focus:border-blue-500 focus:outline-none transition" /></div>
                                <div><label className="block text-xs font-bold text-gray-400 uppercase mb-1">Agency / User Name</label><input type="text" value={userName} onChange={(e) => setUserName(e.target.value)} className="w-full bg-[#0a0a0a] border border-[#262626] rounded-lg p-2.5 text-white focus:border-blue-500 focus:outline-none transition" /></div>
                                <div>
                                    <label className="block text-xs font-bold text-gray-400 uppercase mb-1">Profile Picture</label>
                                    <div className="flex items-center gap-4"><div className="w-10 h-10 rounded-full bg-[#262626] flex items-center justify-center overflow-hidden border border-[#333]">{profileImage ? <img src={profileImage} className="w-full h-full object-cover" /> : <span className="text-gray-500 text-xs">IMG</span>}</div><input type="file" accept="image/*" onChange={handleImageUpload} className="block w-full text-xs text-gray-400 file:mr-4 file:py-1.5 file:px-3 file:rounded-lg file:border-0 file:text-xs file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700 cursor-pointer" /></div>
                                </div>
                                <div className="pt-2"><label className="block text-xs font-bold text-gray-400 uppercase mb-2">Revenue Sources</label><div className="bg-[#0a0a0a] border border-[#262626] rounded-lg px-3 py-1"><Toggle label="Subscriptions" checked={categories.subscriptions} onChange={() => handleToggle('subscriptions')} /><Toggle label="Tips" checked={categories.tips} onChange={() => handleToggle('tips')} /><Toggle label="Messages" checked={categories.messages} onChange={() => handleToggle('messages')} /><Toggle label="Posts" checked={categories.posts} onChange={() => handleToggle('posts')} /><Toggle label="Referrals" checked={categories.referrals} onChange={() => handleToggle('referrals')} /><Toggle label="Streams" checked={categories.streams} onChange={() => handleToggle('streams')} /></div></div>
                            </div>

                            {/* RIGHT COL: Statements Settings */}
                            <div className="space-y-4">
                                <h3 className="text-white font-bold text-sm border-b border-[#262626] pb-2">Statements / Vault Tab</h3>
                                
                                <div className="flex gap-4">
                                    <div className="flex-1">
                                        <label className="block text-xs font-bold text-gray-400 uppercase mb-1">Number of Statements</label>
                                        <input type="number" value={statementSettings.count} onChange={(e) => setStatementSettings(prev => ({...prev, count: e.target.value}))} className="w-full bg-[#0a0a0a] border border-[#262626] rounded-lg p-2.5 text-white focus:border-blue-500 focus:outline-none transition" />
                                    </div>
                                    <div className="flex-1">
                                        <label className="block text-xs font-bold text-gray-400 uppercase mb-1">Amount Mode</label>
                                        <select value={statementSettings.mode} onChange={(e) => setStatementSettings(prev => ({...prev, mode: e.target.value}))} className="w-full bg-[#0a0a0a] border border-[#262626] rounded-lg p-2.5 text-white focus:border-blue-500 focus:outline-none transition">
                                            <option value="random">Realistic Random</option>
                                            <option value="fixed">Fixed Average (Round)</option>
                                        </select>
                                    </div>
                                </div>

                                {/* Custom Payments - Clean UI */}
                                <div>
                                    <label className="block text-xs font-bold text-gray-400 uppercase mb-2">Last Payments Override</label>
                                    <div className="flex gap-2 mb-2">
                                        <input 
                                            type="number" 
                                            placeholder="Enter amount (e.g. 5250)" 
                                            value={newPaymentAmount}
                                            onChange={(e) => setNewPaymentAmount(e.target.value)}
                                            className="flex-1 bg-[#0a0a0a] border border-[#262626] rounded-lg px-3 py-2 text-xs text-white focus:border-blue-500 focus:outline-none"
                                        />
                                        <button 
                                            onClick={addCustomPayment}
                                            disabled={statementSettings.customRows.length >= 10 || !newPaymentAmount}
                                            className="bg-[#262626] hover:bg-[#333] text-white px-3 py-2 rounded-lg text-xs font-medium disabled:opacity-50 transition"
                                        >
                                            Add Last Payout
                                        </button>
                                    </div>
                                    
                                    {/* List of Custom Payouts */}
                                    <div className="bg-[#0a0a0a] border border-[#262626] rounded-lg p-2 min-h-[100px] max-h-[160px] overflow-y-auto">
                                        {statementSettings.customRows.length === 0 && (
                                            <p className="text-[10px] text-gray-500 text-center mt-8 italic">No custom payments added.<br/>Using auto-generated values.</p>
                                        )}
                                        {statementSettings.customRows.map((amount, idx) => {
                                             // Calculate month label
                                             const d = new Date();
                                             d.setMonth(d.getMonth() - (idx + 1));
                                             const label = d.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
                                            return (
                                                <div key={idx} className="flex justify-between items-center py-1.5 px-2 hover:bg-[#141414] rounded group">
                                                    <span className="text-[11px] text-gray-400 w-24">{label}</span>
                                                    <span className="text-[11px] text-white font-mono flex-1 text-right mr-4">${amount.toLocaleString()}</span>
                                                    <button onClick={() => removeCustomPayment(idx)} className="text-red-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition text-[10px]">✕</button>
                                                </div>
                                            );
                                        })}
                                    </div>
                                    <p className="text-[10px] text-gray-500 mt-1 text-right">{statementSettings.customRows.length} / 10 added</p>
                                </div>
                            </div>
                        </div>

                        <button onClick={handleStart} className="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition shadow-lg shadow-blue-500/20 mt-6">Generate Dashboard</button>
                    </div>
                </div>
            );
        };

        const DatePicker = ({ start, end, onSelect, onClose }) => {
            const [viewMonth, setViewMonth] = useState(new Date(end));
            const [activeRange, setActiveRange] = useState({ start, end });
            const [activePreset, setActivePreset] = useState('Last 90 days');
            const presets = [{ label: "Last 7 days", days: 7 }, { label: "Last 30 days", days: 30 }, { label: "Last 90 days", days: 90 }, { label: "Last 365 days", days: 365 }, { label: "2024", days: null, type: 'year' }];

            const handlePreset = (preset) => {
                const today = new Date();
                let newStart, newEnd = today;
                if (preset.type === 'year') { newStart = new Date(2024, 0, 1); newEnd = new Date(2024, 11, 31); if (newEnd > today) newEnd = today; } else { newStart = new Date(today); newStart.setDate(today.getDate() - preset.days); }
                setActiveRange({ start: newStart, end: newEnd }); setActivePreset(preset.label); onSelect(newStart, newEnd); onClose();
            };
            const getDaysInMonth = (year, month) => new Date(year, month + 1, 0).getDate();
            const getFirstDayOfMonth = (year, month) => new Date(year, month, 1).getDay();
            const renderCalendar = (offset) => {
                const targetDate = new Date(viewMonth); targetDate.setMonth(targetDate.getMonth() + offset);
                const year = targetDate.getFullYear(); const month = targetDate.getMonth();
                const daysInMonth = getDaysInMonth(year, month); const firstDay = getFirstDayOfMonth(year, month);
                const days = []; for (let i = 0; i < firstDay; i++) days.push(<div key={`empty-${i}`} />);
                for (let d = 1; d <= daysInMonth; d++) { const date = new Date(year, month, d); const isSelected = date.toDateString() === activeRange.start.toDateString() || date.toDateString() === activeRange.end.toDateString(); const isInRange = date > activeRange.start && date < activeRange.end; days.push(<div key={d} className={`calendar-day ${isSelected ? 'selected' : ''} ${isInRange ? 'in-range' : ''} text-gray-400`}>{d}</div>); }
                return (<div className="p-2 w-full"><div className="flex justify-between items-center mb-2 px-1">{offset === -1 && <button onClick={() => setViewMonth(new Date(viewMonth.setMonth(viewMonth.getMonth() - 1)))}><Icons.ChevronLeft /></button>}<span className="text-xs font-bold text-white mx-auto">{targetDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}</span>{offset === 0 && <button onClick={() => setViewMonth(new Date(viewMonth.setMonth(viewMonth.getMonth() + 1)))}><Icons.ChevronRight /></button>}</div><div className="grid grid-cols-7 gap-1 text-[10px] text-gray-500 mb-1 text-center"><span>Su</span><span>Mo</span><span>Tu</span><span>We</span><span>Th</span><span>Fr</span><span>Sa</span></div><div className="calendar-grid">{days}</div></div>);
            };
            return (<div className="absolute top-full right-0 mt-2 bg-[#1f1f1f] border border-[#333] rounded-xl shadow-2xl z-50 flex flex-col w-[600px] overflow-hidden" onClick={e => e.stopPropagation()}><div className="flex border-b border-[#333]"><div className="flex-1"><div className="flex text-xs font-medium"><div className="px-4 py-2 bg-[#3b82f6] text-white">Custom</div><div className="px-4 py-2 text-gray-400 hover:text-white cursor-pointer">September</div></div></div></div><div className="flex h-[320px]"><div className="w-32 border-r border-[#333] p-2 flex flex-col gap-1 overflow-y-auto">{presets.map(p => (<button key={p.label} onClick={() => handlePreset(p)} className={`text-[11px] text-left px-3 py-1.5 rounded ${activePreset === p.label ? 'bg-[#3b82f6] text-white' : 'text-gray-400 hover:bg-[#262626]'}`}>{p.label}</button>))}<div className="h-px bg-[#333] my-1"></div>{['August', 'July', 'June', 'May', 'April'].map(m => (<button key={m} className="text-[11px] text-left px-3 py-1.5 rounded text-gray-400 hover:bg-[#262626]">{m}</button>))}</div><div className="flex-1 flex p-2 gap-4 bg-[#141414]">{renderCalendar(-1)}<div className="w-px bg-[#333] h-full mx-2"></div>{renderCalendar(0)}</div></div><div className="border-t border-[#333] p-3 flex justify-end gap-2 bg-[#1f1f1f]"><button onClick={onClose} className="px-4 py-1.5 rounded text-xs font-medium text-gray-300 hover:bg-[#333]">Cancel</button><button onClick={onClose} className="px-4 py-1.5 rounded text-xs font-medium bg-[#3b82f6] text-white">Apply</button></div></div>);
        };

        const Dashboard = ({ config }) => {
            const [currentView, setCurrentView] = useState('reports'); // 'reports' | 'vault'

            return (
                <div className="flex h-screen bg-[#0a0a0a] text-white font-sans overflow-hidden select-none">
                    {/* UPDATED SIDEBAR */}
                    <aside className="w-[70px] flex flex-col items-center py-5 border-r border-[#262626] bg-[#0a0a0a] z-50">
                        <div className="mb-4 cursor-pointer opacity-90 hover:opacity-100 transition"><Icons.AppLogo /></div>
                        
                        <div className="flex flex-col gap-3 w-full items-center">
                            <div className="text-[#737373] hover:text-white transition cursor-pointer p-2.5 rounded-lg hover:bg-[#1f1f1f]"><Icons.NavMenu /></div>
                            <div className="text-[#737373] hover:text-white transition cursor-pointer p-2.5 rounded-lg hover:bg-[#1f1f1f]"><Icons.NavHome /></div>
                            <div className="text-[#737373] hover:text-white transition cursor-pointer p-2.5 rounded-lg hover:bg-[#1f1f1f]"><Icons.NavWhistle /></div>
                            
                            {/* Reports Icon - Active if 'reports' */}
                            <div 
                                onClick={() => setCurrentView('reports')}
                                className={`transition cursor-pointer p-2.5 rounded-xl ${currentView === 'reports' ? 'text-white bg-[#3b82f6] shadow-lg shadow-blue-500/20' : 'text-[#737373] hover:text-white hover:bg-[#1f1f1f]'}`}
                            >
                                <Icons.NavReports />
                            </div>
                            
                            {/* Vault/Feed Icon - Active if 'vault' */}
                            <div 
                                onClick={() => setCurrentView('vault')}
                                className={`transition cursor-pointer p-2.5 rounded-xl ${currentView === 'vault' ? 'text-white bg-[#3b82f6] shadow-lg shadow-blue-500/20' : 'text-[#737373] hover:text-white hover:bg-[#1f1f1f]'}`}
                            >
                                <Icons.NavFeed />
                            </div>

                            <div className="text-[#737373] hover:text-white transition cursor-pointer p-2.5 rounded-lg hover:bg-[#1f1f1f]"><Icons.NavNetwork /></div>
                            <div className="text-[#737373] hover:text-white transition cursor-pointer p-2.5 rounded-lg hover:bg-[#1f1f1f]"><Icons.NavProfile /></div>
                            <div className="text-[#737373] hover:text-white transition cursor-pointer p-2.5 rounded-lg hover:bg-[#1f1f1f]"><Icons.NavTeam /></div>
                        </div>
                    </aside>

                    {/* MAIN AREA */}
                    <main className="flex-1 flex flex-col h-full overflow-hidden relative">
                        {/* HEADER */}
                        <header className="h-14 border-b border-[#262626] bg-[#0a0a0a] flex items-center justify-between px-6 z-40 shrink-0">
                            <div className="flex items-center gap-2">
                                <h1 className="font-bold text-sm tracking-wide">
                                    {currentView === 'reports' ? 'Creator Reports' : 'Statements'}
                                </h1>
                            </div>
                            <div className="flex items-center gap-4 text-[11px] font-medium text-[#737373]">
                                <span>Version 5.1.7</span>
                                <span className="bg-[#262626] px-1.5 py-0.5 rounded text-gray-400">UTC+01:00</span>
                                <button className="bg-[#22c55e]/10 hover:bg-[#22c55e]/20 text-[#22c55e] px-2.5 py-1 rounded border border-[#22c55e]/20 flex items-center gap-1.5 transition">
                                    <div className="w-1.5 h-1.5 bg-[#22c55e] rounded-full animate-pulse"></div> Referrals
                                </button>
                                <span className="flex items-center gap-1 hover:text-white cursor-pointer transition">
                                    Network Report <Icons.ChevronDown />
                                </span>
                                <div className="flex items-center gap-2 text-white pl-2 border-l border-[#262626]">
                                    {config.profileImage && (
                                        <div className="w-5 h-5 rounded-full overflow-hidden border border-[#333]">
                                            <img src={config.profileImage} alt="Profile" className="w-full h-full object-cover" />
                                        </div>
                                    )}
                                    <span className="text-gray-300">{config.userName || 'Risen Agency'}</span>
                                    <Icons.ChevronDown />
                                </div>
                            </div>
                        </header>

                        {/* TABS (Only for Reports view) */}
                        {currentView === 'reports' && (
                            <div className="px-6 border-b border-[#262626] flex gap-8 text-[13px] shrink-0">
                                <button className="py-3 text-[#3b82f6] border-b-[2px] border-[#3b82f6] font-medium">Overview</button>
                                <button className="py-3 text-[#737373] hover:text-white transition font-medium">Creator performance</button>
                            </div>
                        )}

                        {/* VIEW CONTENT */}
                        {currentView === 'reports' ? (
                            <ReportsView config={config} />
                        ) : (
                            <VaultView config={config} />
                        )}

                        <div className="absolute bottom-2 right-4 text-[10px] text-[#404040] pointer-events-none font-mono">
                            @dashbord fictif crée par gendah
                        </div>
                    </main>
                </div>
            );
        };

        const App = () => {
            const [isConfigured, setIsConfigured] = useState(false);
            const [config, setConfig] = useState(null);

            if (!isConfigured) {
                return <SetupScreen onComplete={(cfg) => { setConfig(cfg); setIsConfigured(true); }} />;
            }
            return <Dashboard config={config} />;
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>
